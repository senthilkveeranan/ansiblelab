

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <script type="text/javascript" src="https://www.redhat.com/dtm.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta class="swiftype" name="published_at" data-type="date" content="2019-03-26" /> 
  <meta class="swiftype" name="version" data-type="string" content="3.4.3">


   <!-- this ^ ^ is for the original publishing date only, never for minor pushes that aren't actual version bumps of the docs (this helps us keep our search rank weighting in swiftype, our search server, prioritized based on the dates of the releases themselves) -->

  <script>
  var url = window.location.href;
  if(url.indexOf("latest") == -1){
   var version = url.replace("http://docs.ansible.com/ansible-tower/","");
   version = version.substring(0,url.indexOf("/"));
   url = url.replace(version,"latest");
  }
  var canon = document.createElement('link');
  canon.rel = "canonical";
  canon.href = url;
  document.head.appendChild(canon);
  </script>

  <!-- Google Tag Manager Data Layer -->
  <script>
   dataLayer = [];
  </script>
  <!-- End Google Tag Manager Data Layer -->

  
  <title>18. Setting up LDAP Authentication &mdash; Ansible Tower Administration Guide v3.4.3</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'Ansible Tower 3.4.3',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="jquery.js"></script>
      <script type="text/javascript" src="underscore.js"></script>
      <script type="text/javascript" src="doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="theme.min.css" type="text/css" />
    <script type="text/javascript" src="theme.js"></script>
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Ansible Tower Administration Guide v3.4.3" href="index.html"/>
        <link rel="next" title="19. Changing the Default Timeout for Authentication" href="authentication_timeout.html"/>
        <link rel="prev" title="17. Setting up Enterprise Authentication" href="ent_auth.html"/> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

  <style>
    .search-reset-start {
        color: #463E3F;
        float: right;
        position: relative;
        top: -25px;
        left: -10px;
        z-index: 10;
     }
     .search-reset-start:hover {
        cursor: pointer;
        color: #2980B9;
     }
     #search-box-id {
        padding-right: 25px;
     }
  </style>

  <!-- Google Code for Remarketing Tag
  <script type="text/javascript">
  /* <![CDATA[ */
  var google_conversion_id = 972577926;
  var google_custom_params = window.google_tag_params;
  var google_remarketing_only = true;
  /* ]]> */
  </script>
  <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
  </script>
  <noscript>
    <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt=""
              src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/972577926/?value=0&amp;guid=ON&amp;script=0"/>
    </div>
  </noscript>
  End of Google Code for Remarketing Tag -->

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300'
      rel='stylesheet' type='text/css'>

  <script type='text/javascript'>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    (function() {
      var gads = document.createElement('script');
      gads.async = true;
      gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') +
        '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
    })();
  </script>

  <script type='text/javascript'>
    googletag.cmd.push(function() {
      googletag.defineSlot('/1171614047/towerleft', [300, 250], 'div-gpt-ad-1453398530439-0').addService(googletag.pubads());
      googletag.pubads().enableSingleRequest();
      googletag.enableServices();
    });
  </script>
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSB293" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-PSB293');</script>
<!-- End Google Tag Manager -->

  <div class="DocSite-globalNav ansibleNav">
        <ul>
            <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
            <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
            <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
            <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
            <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
        </ul>
    </div>

<a class="DocSite-nav" href="http://docs.ansible.com/">
  <img class="DocSiteNav-logo"
    src="logo_invert.png"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">
    Documentation
  </div>
</a> 




<div class="wy-grid-for-nav">

  
 <nav data-toggle="wy-nav-shift" class="wy-nav-side">
    <div style="background-color:#ff5850;height=80px;margin:'auto auto auto auto'">
        <a class="DocSiteProduct-header DocSiteProduct-header--tower"
            href="http://docs.ansible.com/ansible-tower/">
            <div class="DocSiteProduct-productName">
                <div class="DocSiteProduct-logoText">
                    ANSIBLE TOWER 
                    <div class="DocSiteProduct-CurrentVersion" align="right">
                      v3.4.3
                  </div>
                </div>
            </div>
        </a>
        

        <div class="DocSiteProduct-CheckVersionPara">
          Are you using the latest and greatest version of Ansible Tower? Find the <a class="DocSiteProduct-versionheader" href="http://docs.ansible.com/ansible-tower/">Ansible Tower documentation</a> set which best matches your version of Tower.
            </div>
    </div>
    <div class="wy-side-nav-search" style="background-color:#ff5850;height=80px;margin:'auto auto auto auto'">
      <!-- <a href="index.html" class="icon icon-home"> Ansible Tower Administration Guide</a> -->
      <!-- <form class="wy-form" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form> -->

<!-- 
<script>
  (function() {
    var cx = '004731659079655444432:zgjlf-tkhya';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script> -->

<!-- <gcse:searchresults-only></gcse:searchresults-only> -->

<!-- swiftype search script -->

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','Vcn_rXrPfye6ziaZJZRt','2.0.0');
</script>

<!-- <form id="search-form-id" action="">
  <input type="text" class="st-default-search-input" name="query" placeholder="Search Tower Docs" id="search-box-id" /> 
  <a class="search-reset-start" id="search-reset"><i class="fa fa-times"></i></a>
  <a class="search-reset-start" id="search-start"><i class="fa fa-search"></i></a> 
 </form> -->

          


<!-- <script type="text/javascript" src="http://www.google.com/cse/brand?form=search-form-id&inputbox=search-box-id"></script> -->

<!-- 
<script>
  function executeQuery() {
      var input = document.getElementById('search-box-id');
      var element = google.search.cse.element.getElement('searchresults-only0');
      element.resultsUrl = '/htmlout/search.html'
      if (input.value == '') {
          element.clearAllResults();
          $('#page-content, .rst-footer-buttons, #search-start').show();
          $('#search-results, #search-reset').hide();
      } else {
          $('#page-content, .rst-footer-buttons, #search-start').hide();
          $('#search-results, #search-reset').show();
          element.execute(input.value);
      }
      return false;
      }

  $('#search-reset').hide();

  $('#search-box-id').css('background-position', '1em center');

  $('#search-box-id').on('blur', function() {
    $('#search-box-id').css('background-position', '1em center');
  });

  $('#search-start').click(function(e) { executeQuery(); });
  $('#search-reset').click(function(e) { $('#search-box-id').val(''); executeQuery(); });

  $('#search-form-id').submit(function(e) {
      console.log('submitting!');
      executeQuery();
      e.preventDefault();
      });
</script>
-->
    </div>

      <div id="menu-id" class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Ansible Tower Administration Guide v3.4.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="license-support.html">1. Tower Licensing, Updates, and Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="license-support.html#support">1.1. Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="license-support.html#trial-evaluation">1.2. Trial / Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="license-support.html#subscription-types">1.3. Subscription Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="license-support.html#node-counting-in-licenses">1.4. Node Counting in Licenses</a></li>
<li class="toctree-l2"><a class="reference internal" href="license-support.html#license-features">1.5. License Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="license-support.html#tower-component-licenses">1.6. Tower Component Licenses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="init_script.html">2. Starting, Stopping, and Restarting Tower</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_inventory_script.html">3. Custom Inventory Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_inventory_script.html#writing-inventory-scripts">3.1. Writing Inventory Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scm-inv-source.html">4. Inventory File Importing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scm-inv-source.html#custom-dynamic-inventory-scripts">4.1. Custom Dynamic Inventory Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="scm-inv-source.html#scm-inventory-source-fields">4.2. SCM Inventory Source Fields</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="multi-creds-assignment.html">5. Multi-Credential Assignment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="multi-creds-assignment.html#background">5.1. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-creds-assignment.html#important-changes">5.2. Important Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-creds-assignment.html#launch-time-considerations">5.3. Launch Time Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-creds-assignment.html#backwards-compatibility-concerns">5.4. Backwards Compatibility Concerns</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-creds-assignment.html#multi-vault-credentials">5.5. Multi-Vault Credentials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="management_jobs.html">6. Management Jobs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="management_jobs.html#removing-old-activity-stream-data">6.1. Removing Old Activity Stream Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="management_jobs.html#removing-old-fact-system-tracking-data">6.2. Removing Old Fact (System Tracking) Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="management_jobs.html#removing-old-job-history">6.3. Removing Old Job History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="clustering.html">7. Clustering</a><ul>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#setup-considerations">7.1. Setup Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#install-and-configure">7.2. Install and Configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#configuring-instances-and-instance-groups-from-the-api">7.3. Configuring Instances and Instance Groups from the API</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#instance-group-policies">7.4. Instance group policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#isolated-instance-groups">7.5. Isolated Instance Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#status-and-monitoring-via-browser-api">7.6. Status and Monitoring via Browser API</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#instance-services-and-failure-behavior">7.7. Instance Services and Failure Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#job-runtime-behavior">7.8. Job Runtime Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="clustering.html#deprovision-instances-and-instance-groups">7.9. Deprovision Instances and Instance Groups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openshift_configuration.html">8. OpenShift Deployment and Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#tower-and-openshift-basics">8.1. Tower and OpenShift Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#configuration-options">8.2. Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#basic-configuration">8.3. Basic Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#resource-requests-and-request-planning">8.4. Resource Requests and Request Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#database-configuration-and-usage">8.5. Database Configuration and Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#backup-and-restore">8.6. Backup and Restore</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#upgrading">8.7. Upgrading</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#migrating">8.8. Migrating</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift_configuration.html#build-custom-virtual-environments">8.9. Build custom virtual environments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="proxy-support.html">9. Proxy Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="proxy-support.html#configure-known-proxies">9.1. Configure Known Proxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="proxy-support.html#reverse-proxy">9.2. Reverse Proxy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logfiles.html">10. Tower Logfiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">11. Tower Logging and Aggregation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logging.html#loggers">11.1. Loggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html#set-up-logging-with-tower">11.2. Set Up Logging with Tower</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tower-manage.html">12. The <em>awx-manage</em> Utility</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tower-manage.html#inventory-import">12.1. Inventory Import</a></li>
<li class="toctree-l2"><a class="reference internal" href="tower-manage.html#cleanup-of-old-data">12.2. Cleanup of old data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tower-manage.html#cluster-management">12.3. Cluster management</a></li>
<li class="toctree-l2"><a class="reference internal" href="tower-manage.html#token-and-session-management">12.4. Token and session management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configure_tower_in_tower.html">13. Tower Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configure_tower_in_tower.html#authentication">13.1. Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure_tower_in_tower.html#jobs">13.2. Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure_tower_in_tower.html#system">13.3. System</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure_tower_in_tower.html#user-interface">13.4. User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure_tower_in_tower.html#license">13.5. License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="proot_func_variables.html">14. Bubblewrap functionality and variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth2_token_auth.html">15. Token-Based Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="oauth2_token_auth.html#managing-oauth-2-applications-and-tokens">15.1. Managing OAuth 2 Applications and Tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="oauth2_token_auth.html#using-oauth-2-token-system-for-personal-access-tokens-pat">15.2. Using OAuth 2 Token System for Personal Access Tokens (PAT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="oauth2_token_auth.html#application-functions">15.3. Application Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="oauth2_token_auth.html#application-token-functions">15.4. Application Token Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social_auth.html">16. Setting up Social Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social_auth.html#google-oauth2-settings">16.1. Google OAuth2 Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_auth.html#github-oauth2-settings">16.2. GitHub OAuth2 Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_auth.html#organization-and-team-mapping">16.3. Organization and Team Mapping</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ent_auth.html">17. Setting up Enterprise Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ent_auth.html#azure-active-directory-ad">17.1. Azure Active Directory (AD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ent_auth.html#saml-authentication-settings">17.2. SAML Authentication Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="ent_auth.html#radius-authentication-settings">17.3. RADIUS Authentication Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="ent_auth.html#tacacs-authentication-settings">17.4. TACACS+ Authentication Settings</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="ldap_auth.html#">18. Setting up LDAP Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ldap_auth.html#referrals">18.1. Referrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="ldap_auth.html#enabling-logging-for-ldap">18.2. Enabling Logging for LDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="ldap_auth.html#ldap-organization-and-team-mapping">18.3. LDAP Organization and Team Mapping</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authentication_timeout.html">19. Changing the Default Timeout for Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="kerberos_auth.html">20. User Authentication with Kerberos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kerberos_auth.html#ad-and-kerberos-credentials">20.1. AD and Kerberos Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="kerberos_auth.html#working-with-kerberos-tickets">20.2. Working with Kerberos Tickets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="session_limits.html">21. Working with Session Limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="backup_restore.html">22. Backing Up and Restoring Tower</a><ul>
<li class="toctree-l2"><a class="reference internal" href="backup_restore.html#backup-restore-playbooks">22.1. Backup/Restore Playbooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="backup_restore.html#backup-and-restoration-considerations">22.2. Backup and Restoration Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="backup_restore.html#backup-and-restore-for-clustered-environments">22.3. Backup and Restore for Clustered Environments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_rebranding.html">23. Using Custom Logos in Ansible Tower</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">24. Troubleshooting Tower</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#error-logs">24.1. Error logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#problems-connecting-to-your-host">24.2. Problems connecting to your host</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#unable-to-login-to-tower-via-http">24.3. Unable to login to Tower via HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#websockets-port-for-live-events-not-working">24.4. WebSockets port for live events not working</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#problems-running-a-playbook">24.5. Problems running a playbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#problems-when-running-a-job">24.6. Problems when running a job</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#playbooks-aren-t-showing-up-in-the-job-template-drop-down">24.7. Playbooks aren&#8217;t showing up in the &#8220;Job Template&#8221; drop-down</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#playbook-stays-in-pending">24.8. Playbook stays in pending</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#cancel-a-tower-job">24.9. Cancel a Tower job</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#reusing-an-external-database-causes-installations-to-fail">24.10. Reusing an external database causes installations to fail</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#private-ec2-vpc-instances-in-tower-inventory">24.11. Private EC2 VPC Instances in Tower Inventory</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#troubleshooting-error-provided-hosts-list-is-empty">24.12. Troubleshooting &#8220;Error: provided hosts list is empty&#8221;</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tipsandtricks.html">25. Tower Tips and Tricks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#using-the-tower-cli-tool">25.1. Using the Tower CLI Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#launching-a-job-template-via-the-api">25.2. Launching a Job Template via the API</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#tower-cli-job-template-launching">25.3. <code class="docutils literal"><span class="pre">tower-cli</span></code> Job Template Launching</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#changing-the-tower-admin-password">25.4. Changing the Tower Admin Password</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#creating-a-tower-admin-from-the-commandline">25.5. Creating a Tower Admin from the commandline</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#setting-up-a-jump-host-to-use-with-tower">25.6. Setting up a jump host to use with Tower</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#view-ansible-outputs-for-json-commands-when-using-tower">25.7. View Ansible outputs for JSON commands when using Tower</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#locate-and-configure-the-ansible-configuration-file">25.8. Locate and configure the Ansible configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#view-a-listing-of-all-ansible-variables">25.9. View a listing of all ansible_ variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#using-virtualenv-with-at">25.10. Using virtualenv with Ansible Tower</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#configuring-the-towerhost-hostname-for-notifications">25.11. Configuring the <code class="docutils literal"><span class="pre">towerhost</span></code> hostname for notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#launching-jobs-with-curl">25.12. Launching Jobs with curl</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#dynamic-inventory-and-private-ip-addresses">25.13. Dynamic Inventory and private IP addresses</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#filtering-instances-returned-by-the-dynamic-inventory-sources-in-tower">25.14. Filtering instances returned by the dynamic inventory sources in Tower</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#using-an-unreleased-module-from-ansible-source-with-tower">25.15. Using an unreleased module from Ansible source with Tower</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#using-callback-plugins-with-tower">25.16. Using callback plugins with Tower</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#connecting-to-windows-with-winrm">25.17. Connecting to Windows with winrm</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipsandtricks.html#importing-existing-inventory-files-and-host-group-vars-into-tower">25.18. Importing existing inventory files and host/group vars into Tower</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="towercli.html">26. Introduction to <strong>tower-cli</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="towercli.html#license">26.1. License</a></li>
<li class="toctree-l2"><a class="reference internal" href="towercli.html#capabilities">26.2. Capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="towercli.html#installation">26.3. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="towercli.html#configuration">26.4. Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usability_data_collection.html">27. Usability Analytics and Data Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="postface.html">28. Postface</a></li>
</ul>

        

<div class="DocSite-sideNav ansibleNav">
    <ul class="">
    <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
    <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
    <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
    <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
    </ul>
</div>

    <!-- changeable widget -->
    <div id="sideBanner">
    <br/>
    <a href="http://www.ansible.com/tower-docs-left?utm_source=docs">
<img style="border-width:0px;" src="https://cdn2.hubspot.net/hubfs/330046/docs-graphics/ASB-tower-docs-left-rail.png" />
    </a>
</div>


      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="https://docs.ansible.com/">Ansible Tower Administration Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

    <!--        <div class="DocSiteBanner">
                <a class="DocSiteBanner-imgWrapper"
                    href="http://www.ansible.com/tower-docs-top?utm_source=tower-docs">
                    <img src="https://cdn2.hubspot.net/hubfs/330046/docs-graphics/ASB-tower-docs-top-left.png">
                </a>
                <a class="DocSiteBanner-imgWrapper"
                    href="http://www.ansible.com/tower-docs-top?utm_source=tower-docs">
                    <img src="https://cdn2.hubspot.net/hubfs/330046/docs-graphics/ASB-tower-docs-top-right.png">
                </a>
            </div> -->

          <ul class="wy-breadcrumbs">
    <li><a href="http://docs.ansible.com/" <title>Ansible Docs Home</title></a>&raquo;</li>
    <li><a href="http://docs.ansible.com/ansible-tower/" <title>Ansible Tower Docs</title></a>&raquo;</li>
    <li><a href="index.html" <title> &mdash; Ansible Tower Administration Guide v3.4.3</title></a> &raquo;</li>
    <!--  <li><a href="">18. Setting up LDAP Authentication</a></li> -->
</ul>
<hr/>
          <div id="page-content">
          
  <div class="section" id="setting-up-ldap-authentication">
<span id="ag-ldap"></span><h1>18. Setting up LDAP Authentication<a class="headerlink" href="ldap_auth.html#setting-up-ldap-authentication" title="Permalink to this headline">¶</a></h1>
<div class="admonition note" id="index-0">
<p class="first admonition-title">Note</p>
<p class="last">LDAP authentication is a feature specific to Enterprise-level license holders. You must have an active enterprise license before beginning the configuration process. Additionally, if the LDAP server you want to connect to has a certificate that is self-signed or signed by a corporate internal certificate authority (CA), the CA certificate must be added to the system&#8217;s trusted CAs. Otherwise, connection to the LDAP server will result in an error that the certificate issuer is not recognized.</p>
</div>
<p>Administrators use LDAP as a source for account authentication information for Tower users. User authentication is provided, but not the synchronization of user permissions and credentials. Organization membership (as well as the organization admin) and team memberships can be synchronized.</p>
<p>When so configured, a user who logs in with an LDAP username and password automatically gets a Tower account created for them and they can be automatically placed into organizations as either regular users or organization administrators.</p>
<p>Users created via an LDAP login cannot change their username, first name, last name, or set a local password for themselves. This is also tunable to restrict editing of other field names.</p>
<p>To configure LDAP integration for Tower:</p>
<ol class="arabic simple">
<li>First, create a user in LDAP that has access to read the entire LDAP structure.</li>
<li>Test if you can make successful queries to the LDAP server, use the <code class="docutils literal"><span class="pre">ldapsearch</span></code> command, which is a command line tool that can be installed on the tower system&#8217;s command line as well as on other Linux and OSX systems. Use the following command to query the ldap server, where <em>josie</em> and <em>Josie4Cloud</em> are replaced by attributes that work for your setup:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ldapsearch</span> <span class="o">-</span><span class="n">x</span>  <span class="o">-</span><span class="n">H</span> <span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">win</span> <span class="o">-</span><span class="n">D</span> <span class="s2">&quot;CN=josie,CN=Users,DC=website,DC=com&quot;</span> <span class="o">-</span><span class="n">b</span> <span class="s2">&quot;dc=website,dc=com&quot;</span> <span class="o">-</span><span class="n">w</span> <span class="n">Josie4Cloud</span>
</pre></div>
</div>
<p>Here <code class="docutils literal"><span class="pre">CN=josie,CN=users,DC=website,DC=com</span></code> is the Distinguished Name of the connecting user.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">ldapsearch</span></code> utility is not automatically pre-installed with Ansible Tower, however, you can install it from the <code class="docutils literal"><span class="pre">openldap-clients</span></code> package.</p>
</div>
<ol class="arabic simple" start="3">
<li>From the left navigation bar, click the Settings (<img alt="settings-icon" src="settings-icon.png" />) icon.</li>
</ol>
<p>The Authentication tab displays initially by default.</p>
<ol class="arabic simple" start="4">
<li>In the Sub Category field, select <strong>LDAP</strong> from the drop-down list.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Starting with Ansible Tower 3.3, you can configure multiple LDAP servers by specifying the server to configure (otherwise, leave the server at <strong>Default</strong>):</p>
<img alt="_images/configure-tower-auth-ldap-servers.png" src="configure-tower-auth-ldap-servers.png" />
<p class="last">The equivalent API endpoints will show <code class="docutils literal"><span class="pre">AUTH_LDAP_*</span></code> repeated: <code class="docutils literal"><span class="pre">AUTH_LDAP_1_*</span></code>, <code class="docutils literal"><span class="pre">AUTH_LDAP_2_*</span></code>, ..., <code class="docutils literal"><span class="pre">AUTH_LDAP_5_*</span></code> to denote server designations.</p>
</div>
<ol class="arabic simple" start="5">
<li>Enter the LDAP server address to connect to in the <strong>LDAP Server URI</strong> field using the same format as the one shown in the text field. Below is an example:</li>
</ol>
<img alt="_images/configure-tower-auth-ldap-server-uri.png" src="configure-tower-auth-ldap-server-uri.png" />
<ol class="arabic simple" start="6">
<li>Enter the Distinguished Name in the <strong>LDAP Bind DN</strong> text field to specify the user that Tower uses to connect (Bind) to the LDAP server. Below uses the example, <code class="docutils literal"><span class="pre">CN=josie,CN=users,DC=website,DC=com</span></code>:</li>
</ol>
<img alt="_images/configure-tower-auth-ldap-bind-dn.png" src="configure-tower-auth-ldap-bind-dn.png" />
<ol class="arabic simple" start="7">
<li>Enter the password to use for the Binding user in the <strong>LDAP Bind Password</strong> text field. In this example, the password is &#8216;passme&#8217;:</li>
</ol>
<img alt="_images/configure-tower-auth-ldap-bind-pwd.png" src="configure-tower-auth-ldap-bind-pwd.png" />
<ol class="arabic simple" start="8">
<li>If that name is stored in key <code class="docutils literal"><span class="pre">sAMAccountName</span></code>, the <strong>LDAP User DN Template</strong> populates with <code class="docutils literal"><span class="pre">(sAMAccountName=%(user)s)</span></code>. Active Directory stores the username to <code class="docutils literal"><span class="pre">sAMAccountName</span></code>. Similarly, for OpenLDAP, the key is <code class="docutils literal"><span class="pre">uid</span></code>&#8211;hence the line becomes <code class="docutils literal"><span class="pre">(uid=%(user)s)</span></code>.</li>
<li>Click to select a group type from the <strong>LDAP Group Type</strong> drop-down menu list.</li>
</ol>
<blockquote>
<div><p>LDAP Group Types include:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">PosixGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">GroupOfNamesType</span></code></li>
<li><code class="docutils literal"><span class="pre">GroupOfUniqueNamesType</span></code></li>
<li><code class="docutils literal"><span class="pre">ActiveDirectoryGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">OrganizationalRoleGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">MemberDNGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">NISGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">NestedGroupOfNamesType</span></code></li>
<li><code class="docutils literal"><span class="pre">NestedGroupOfUniqueNamesType</span></code></li>
<li><code class="docutils literal"><span class="pre">NestedActiveDirectoryGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">NestedOrganizationalRoleGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">NestedMemberDNGroupType</span></code></li>
<li><code class="docutils literal"><span class="pre">PosixUIDGroupType</span></code></li>
</ul>
<p>The LDAP Group Types that are supported by Tower leverage the underlying <a class="reference external" href="https://django-auth-ldap.readthedocs.io/en/latest/groups.html#types-of-groups">django-auth-ldap library</a>.</p>
<p>Each <strong>LDAP Group Type</strong> can potentially take different parameters. Tower exposes <code class="docutils literal"><span class="pre">LDAP_GROUP_TYPE_PARAMS</span></code> to account for this. <code class="docutils literal"><span class="pre">LDAP_GROUP_TYPE_PARAMS</span></code> is a dictionary, which will be converted by Tower to kwargs and passed to the LDAP Group Type class selected. There are two common parameters used by any of the LDAP Group Type; <code class="docutils literal"><span class="pre">name_attr</span></code> and <code class="docutils literal"><span class="pre">member_attr</span></code>. Where <code class="docutils literal"><span class="pre">name_attr</span></code> defaults to <code class="docutils literal"><span class="pre">cn</span></code> and <code class="docutils literal"><span class="pre">member_addr</span></code> defaults to <code class="docutils literal"><span class="pre">member</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;name_attr&#39;</span><span class="p">:</span> <span class="s1">&#39;cn&#39;</span><span class="p">,</span> <span class="s1">&#39;member_attr&#39;</span><span class="p">:</span> <span class="s1">&#39;member&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>To determine what parameters a specific LDAP Group Type expects. refer to the <a class="reference external" href="https://django-auth-ldap.readthedocs.io/en/latest/reference.html#django_auth_ldap.config.LDAPGroupType">django_auth_ldap</a> documentation around the classes <code class="docutils literal"><span class="pre">init</span></code> parameters.</p>
</div></blockquote>
<ol class="arabic simple" start="10">
<li>Enter the group distinguish name to allow users within that group to access Tower in the <strong>LDAP Require Group</strong> field, using the same format as the one shown in the text field. In this example, use: <code class="docutils literal"><span class="pre">CN=Tower</span> <span class="pre">Users,OU=Users,DC=website,DC=com</span></code></li>
</ol>
<img alt="_images/configure-tower-auth-ldap-req-group.png" src="configure-tower-auth-ldap-req-group.png" />
<ol class="arabic simple" start="11">
<li>Enter the group distinguish name to prevent users within that group to access Tower in the <strong>LDAP Deny Group</strong> field, using the same format as the one shown in the text field. In this example, leave the field blank.</li>
<li>The <strong>LDAP Start TLS</strong> is disabled by default. To enable TLS when the LDAP connection is not using SSL, click the toggle to <strong>ON</strong>.</li>
</ol>
<img alt="_images/configure-tower-auth-ldap-start-tls.png" src="configure-tower-auth-ldap-start-tls.png" />
<ol class="arabic simple" start="13">
<li>Enter where to search for users while authenticating in the <strong>LDAP USER SEARCH</strong> field using the same format as the one shown in the text field. In this example, use:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="s2">&quot;OU=Users,DC=website,DC=com&quot;</span><span class="p">,</span>
<span class="s2">&quot;SCOPE_SUBTREE&quot;</span><span class="p">,</span>
<span class="s2">&quot;(cn=</span><span class="si">%(user)s</span><span class="s2">)&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The first line specifies where to search for users in the LDAP tree. In the above example, the users are searched recursively starting from <code class="docutils literal"><span class="pre">DC=website,DC=com</span></code>.</p>
<p>The second line specifies the scope where the users should be searched:</p>
<blockquote>
<div><ul class="simple">
<li>SCOPE_BASE:  This value is used to indicate searching only the entry at the base DN, resulting in only that entry being returned</li>
<li>SCOPE_ONELEVEL:  This value is used to indicate searching all entries one level under the base DN - but not including the base DN and not including any entries under that one level under the base DN.</li>
<li>SCOPE_SUBTREE: This value is used to indicate searching of all entries at all levels under and including the specified base DN.</li>
</ul>
</div></blockquote>
<p>The third line specifies the key name where the user name is stored.</p>
<img alt="_images/configure-tower-authen-ldap-user-search.png" src="configure-tower-authen-ldap-user-search.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For multiple search queries, the proper syntax is:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">[</span>
  <span class="s2">&quot;OU=Users,DC=northamerica,DC=acme,DC=com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SCOPE_SUBTREE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;(sAMAccountName=</span><span class="si">%(user)s</span><span class="s2">)&quot;</span>
  <span class="p">],</span>
  <span class="p">[</span>
  <span class="s2">&quot;OU=Users,DC=apac,DC=corp,DC=com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SCOPE_SUBTREE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;(sAMAccountName=</span><span class="si">%(user)s</span><span class="s2">)&quot;</span>
  <span class="p">],</span>
  <span class="p">[</span>
  <span class="s2">&quot;OU=Users,DC=emea,DC=corp,DC=com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SCOPE_SUBTREE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;(sAMAccountName=</span><span class="si">%(user)s</span><span class="s2">)&quot;</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<ol class="arabic simple" start="14">
<li>In the <strong>LDAP Group Search</strong> text field, specify which groups should be searched and how to search them. In this example, use:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span> <span class="p">[</span>
<span class="s2">&quot;dc=example,dc=com&quot;</span><span class="p">,</span>
<span class="s2">&quot;SCOPE_SUBTREE&quot;</span><span class="p">,</span>
<span class="s2">&quot;(objectClass=group)&quot;</span>
 <span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li>The first line specifies the BASE DN where the groups should be searched.</li>
<li>The second lines specifies the scope and is the same as that for the user directive.</li>
<li>The third line specifies what the <code class="docutils literal"><span class="pre">objectclass</span></code> of a group object is in the LDAP you are using.</li>
</ul>
<img alt="_images/configure-tower-authen-ldap-group-search.png" src="configure-tower-authen-ldap-group-search.png" />
<ol class="arabic simple" start="15">
<li>Enter the user attributes in the <strong>LDAP User Attribute Map</strong> the text field. In this example, use:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;givenName&quot;</span><span class="p">,</span>
<span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;sn&quot;</span><span class="p">,</span>
<span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;mail&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above example retrieves users by last name from the key <code class="docutils literal"><span class="pre">sn</span></code>. You can use the same LDAP query for the user to figure out what keys they are stored under.</p>
<img alt="_images/configure-tower-auth-ldap-user-attrb-map.png" src="configure-tower-auth-ldap-user-attrb-map.png" />
<ol class="arabic simple" start="16">
<li>Enter the user profile flags in the <strong>LDAP User Flags by Group</strong> the text field. In this example, use the following syntax to set LDAP users as &#8220;Superusers&#8221; and &#8220;Auditors&#8221;:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;is_superuser&quot;</span><span class="p">:</span> <span class="s2">&quot;cn=superusers,ou=groups,dc=website,dc=com&quot;</span>
<span class="s2">&quot;is_system_auditor&quot;</span><span class="p">:</span> <span class="s2">&quot;cn=auditors,ou=groups,dc=website,dc=com&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above example retrieves users who are flagged as superusers or as auditor in their profile.</p>
<img alt="_images/configure-tower-auth-ldap-user-flags.png" src="configure-tower-auth-ldap-user-flags.png" />
<ol class="arabic simple" start="17">
<li>For details on completing the mapping fields, see <a class="reference internal" href="ldap_auth.html#ag-ldap-org-team-maps"><span class="std std-ref">LDAP Organization and Team Mapping</span></a>.</li>
<li>Click <strong>Save</strong> when done.</li>
</ol>
<p>With these values entered on this form, you can now make a successful authentication with LDAP.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Tower does not actively sync users, but they are created during their initial login.</p>
</div>
<div class="section" id="referrals">
<h2>18.1. Referrals<a class="headerlink" href="ldap_auth.html#referrals" title="Permalink to this headline">¶</a></h2>
<p id="index-1">Active Directory uses &#8220;referrals&#8221; in case the queried object is not available in its database. It has been noted that this does not work properly with the django LDAP client and, most of the time, it helps to disable referrals. Disable LDAP referrals by adding the following lines to your <code class="docutils literal"><span class="pre">/etc/tower/conf.d/ldap.py</span></code> file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">AUTH_LDAP_GLOBAL_OPTIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">ldap</span><span class="o">.</span><span class="n">OPT_REFERRALS</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">&#8220;Referrals&#8221; are disabled by default in Ansible Tower version 2.4.3 and above.  If you are running an earlier version of Tower, you should consider adding this parameter to your configuration file.</p>
</div>
<p>For details on completing the mapping fields, see <a class="reference internal" href="ldap_auth.html#ag-ldap-org-team-maps"><span class="std std-ref">LDAP Organization and Team Mapping</span></a>.</p>
</div>
<div class="section" id="enabling-logging-for-ldap">
<span id="ldap-logging"></span><h2>18.2. Enabling Logging for LDAP<a class="headerlink" href="ldap_auth.html#enabling-logging-for-ldap" title="Permalink to this headline">¶</a></h2>
<p id="index-2">To enable logging for LDAP, you must set the level to <code class="docutils literal"><span class="pre">DEBUG</span></code> in the LDAP configuration file, <code class="docutils literal"><span class="pre">/etc/tower/conf.d/ldap.py</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LOGGING</span><span class="p">[</span><span class="s1">&#39;handlers&#39;</span><span class="p">][</span><span class="s1">&#39;tower_warnings&#39;</span><span class="p">][</span><span class="s1">&#39;level&#39;</span><span class="p">]</span> <span class="o">=</span>  <span class="s1">&#39;DEBUG&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="ldap-organization-and-team-mapping">
<span id="ag-ldap-org-team-maps"></span><h2>18.3. LDAP Organization and Team Mapping<a class="headerlink" href="ldap_auth.html#ldap-organization-and-team-mapping" title="Permalink to this headline">¶</a></h2>
<p id="index-3">Next, you will need to control which users are placed into which Tower organizations based on LDAP attributes (mapping out between your organization admins/users and LDAP groups).</p>
<p>Keys are organization names. Organizations will be created if not present. Values are dictionaries defining the options for each organization&#8217;s membership. For each organization, it is possible to specify what groups are automatically users of the organization and also what groups can administer the organization.</p>
<dl class="docutils">
<dt><strong>admins</strong>: None, True/False, string or list/tuple of strings.</dt>
<dd><ul class="first last simple">
<li>If <strong>None</strong>, organization admins will not be updated based on LDAP values.</li>
<li>If <strong>True</strong>, all users in LDAP will automatically be added as admins of the organization.</li>
<li>If <strong>False</strong>, no LDAP users will be automatically added as admins of the organiation.</li>
<li>If a string or list of strings, specifies the group DN(s) that will be added of the organization if they match any of the specified groups.</li>
</ul>
</dd>
<dt><strong>remove_admins</strong>: True/False. Defaults to <strong>False</strong>.</dt>
<dd><ul class="first last simple">
<li>When <strong>True</strong>, a user who is not an member of the given groups will be removed from the organization&#8217;s administrative list.</li>
</ul>
</dd>
</dl>
<p><strong>users</strong>: None, True/False, string or list/tuple of strings. Same rules apply as for <strong>admins</strong>.</p>
<p><strong>remove_users</strong>: True/False. Defaults to <strong>False</strong>. Same rules apply as <strong>remove_admins</strong>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;LDAP Organization&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;admins&quot;</span><span class="p">:</span> <span class="s2">&quot;cn=engineering_admins,ou=groups,dc=example,dc=com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;remove_admins&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;users&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;cn=engineering,ou=groups,dc=example,dc=com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cn=sales,ou=groups,dc=example,dc=com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cn=it,ou=groups,dc=example,dc=com&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;remove_users&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">},</span>
<span class="s2">&quot;LDAP Organization 2&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;admins&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;cn=Administrators,cn=Builtin,dc=example,dc=com&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;remove_admins&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;users&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;remove_users&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Mapping between team members (users) and LDAP groups. Keys are team names (will be created if not present). Values are dictionaries of options for each team&#8217;s membership, where each can contain the following parameters:</p>
<dl class="docutils">
<dt><strong>organization</strong>: string. The name of the organization to which the team</dt>
<dd>belongs.  The team will be created if the combination of organization and
team name does not exist.  The organization will first be created if it
does not exist.</dd>
</dl>
<p><strong>users</strong>: None, True/False, string or list/tuple of strings.</p>
<blockquote>
<div><ul class="simple">
<li>If <strong>None</strong>, team members will not be updated.</li>
<li>If <strong>True/False</strong>, all LDAP users will be added/removed as team members.</li>
<li>If a string or list of strings, specifies the group DN(s). User will be added as a team member if the user is a member of ANY of these groups.</li>
</ul>
</div></blockquote>
<p><strong>remove</strong>: True/False. Defaults to <strong>False</strong>. When <strong>True</strong>, a user who is not a member of the given groups will be removed from the team.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;LDAP Engineering&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;organization&quot;</span><span class="p">:</span> <span class="s2">&quot;LDAP Organization&quot;</span><span class="p">,</span>
  <span class="s2">&quot;users&quot;</span><span class="p">:</span> <span class="s2">&quot;cn=engineering,ou=groups,dc=example,dc=com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;remove&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">},</span>
<span class="s2">&quot;LDAP IT&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;organization&quot;</span><span class="p">:</span> <span class="s2">&quot;LDAP Organization&quot;</span><span class="p">,</span>
  <span class="s2">&quot;users&quot;</span><span class="p">:</span> <span class="s2">&quot;cn=it,ou=groups,dc=example,dc=com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;remove&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">},</span>
<span class="s2">&quot;LDAP Sales&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;organization&quot;</span><span class="p">:</span> <span class="s2">&quot;LDAP Organization&quot;</span><span class="p">,</span>
  <span class="s2">&quot;users&quot;</span><span class="p">:</span> <span class="s2">&quot;cn=sales,ou=groups,dc=example,dc=com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;remove&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <div id="search-results"><gcse:searchresults-only></gcse:searchresults-only></div>
          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="authentication_timeout.html" class="btn btn-neutral float-right" title="19. Changing the Default Timeout for Authentication"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="ent_auth.html" class="btn btn-neutral" title="17. Setting up Enterprise Authentication"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
    Copyright © 2019 Red Hat, Inc. 
    <br>
  </p>

<p>
  Red Hat Ansible Tower docs are generated using <A HREF="http://sphinx-doc.org/">Sphinx</A> using a theme provided by <a href="http://readthedocs.org">Read the Docs</a>.
</p>
</footer>
        </div>
      </div>

    </section>

  </div>
  


<!-- begin analytics -->
<script type="text/javascript">
var _hsq = _hsq || [];
_hsq.push(["setContentType", "standard-page"]);
        (function(d,s,i,r) {
        if (d.getElementById(i)){return;}
        var n = d.createElement(s),e = document.getElementsByTagName(s)[0];
        n.id=i;n.src = '//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/330046.js';
        e.parentNode.insertBefore(n, e);
        })(document, "script", "hs-analytics",300000);
</script>
<!-- end analytics -->

<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
_satellite.pageBottom();
}
</script>

</body>
</html>